{% comment %} This file is auto-generated. Do not edit this file. {% endcomment %}
{% assign variantCount = product.variants | size %}
<div
  x-cloak
  data-name='bundle-product'
  data-variant-id='{{ variant.id }}'
  :class="{ 'byob-tw-hidden': !separateVariants && visibleVariantId != '{{ variant.id }}' }"
  class='
    byob-tw-grid byob-tw-grid-rows-[auto_1fr]
    byob-tw-text-center
    byob-tw-relative
    byob-tw-max-w-full
  '
>
  <div
    x-cloak
    :class="variantInBundle('{{ variant.id }}') > 0 ? 'byob-tw-flex' : 'byob-tw-hidden'"
    class='
      byob-tw-absolute
      byob-tw-right-0
      byob-tw-top-1
      byob-tw-z-[1]
      byob-tw-rounded-full
      byob-tw-bg-[black]
      byob-tw-p-8
      byob-tw-w-10
      byob-tw-h-10
      byob-tw-content-center
      byob-tw-justify-center
      byob-tw-items-center
      byob-tw-flex-col
      byob-tw-text-white
    '
  >
    <span
      class='byob-tw-absolute'
      x-text="`x${variantInBundleCount('{{ variant.id }}')}`"
    ></span>
  </div>
  <div data-name='bundle-product__image'>
    <img
      width='300'
      src='{{ image }}'
      alt='{{ variant_title }}'
      loading='lazy'
      class='byob-tw-aspect-square byob-tw-w-full scroll-trigger animate--slide-in'
    >
  </div>
  <div class='bundle-product byob-tw-grid byob-tw-grid-rows-[1fr_1fr_50px_auto] '>
    <div
      data-name='product-title'
      data-product-title='{{ product_title }}{% if variantCount != 1 %} - {{ variant_title }}{% endif %}'
      class='byob-tw-text-lg byob-tw-font-normal byob-tw-whitespace-normal'
    >
      {% if variantCount == 1 or section.settings.separate_variants == false %}
        {{ product_title }}
      {% else %}
        {{ product_title }} - {{ variant_title }}
      {% endif %}
    </div>

    <div
      data-price='{{ variant.price }}'
      data-name='product-price'
      class='byob-tw-font-bold'
    >
      {{ variant.price | money }}
    </div>

    <template x-if='!separateVariants'>
      <select x-model='visibleVariantId' class='byob-tw-bottom-4 byob-tw-z-[1] byob-tw-w-full'>
        {% for productVariant in product.variants %}
          <option value='{{ productVariant.id }}'>
            {% if variantCount == 1 %}
              {{ product_title }}
            {% else %}
              {{ productVariant.title }}
            {% endif %}
          </option>
        {% endfor %}
      </select>
    </template>

    <button
      class='button disabled:byob-tw-cursor-not-allowed sm:byob-tw-text-sm lg:byob-tw-text-lg'
      data-available='{{ variant.available }}'
      :disabled="!canAddMoreItems || $el.dataset.available == 'false'"
      {% if variant.available == false %}
        disabled
      {% endif %}
      @click='addToBundle({{ variant.id }})'
    >
      <span
        x-show='canAddMoreItems'
        class='byob-tw-flex byob-tw-items-center byob-tw-flex-nowrap byob-tw-whitespace-nowrap byob-tw-gap-1'
      >
        {% if variant.available %}
          <div
            x-cloak
            x-show="variantInBundle('{{ variant.id }}')"
          >
            <svg class='byob-tw-h-8 byob-tw-w-8' viewBox='0 0 20 20' fill='currentColor' aria-hidden='true'>
              <path fill-rule="evenodd" d="M16.704 4.153a.75.75 0 01.143 1.052l-8 10.5a.75.75 0 01-1.127.075l-4.5-4.5a.75.75 0 011.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 011.05-.143z" clip-rule="evenodd" />
            </svg>
          </div>
          {{ section.settings.add_to_bundle_text }}
        {% else %}
          Sold Out
        {% endif %}
      </span>
      <span x-show='!canAddMoreItems'>
        {{ section.settings.max_added_text | default: 'Max items reached' }}
      </span>
    </button>
  </div>
</div>
